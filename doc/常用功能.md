# 常用功能

> 项目开发的常用功能



##  安装脚手架

> 建议使用比较新的node，当前node版本为20.19.4

```bash
npm install -g @nestjs/cli
```



## 创建项目

> 确保安装了脚手架，npm记得切换镜像地址，或者直接使用yarn

```bash
nest new 项目名称
```



## 关闭Git大小写忽略

> 防止大小写的原因报错而不知道为什么，window系统不影响但是其他的系统不一样

```bash
git config core.ignorecase false
```



## 删除多余文件

> 删除默认test文件夹（测试使用的）、src中只保留app.module.ts和main.ts
>
> 后续的模块会抽离



## 生成模块

> 用户模块 --no-spec 禁用规范文件生成

```bash
nest g resource module/模块名称 --no-spec
```



## 注意事项

> 踩过的坑

- PartialType

  - 用于继承class，并且将必选改为可选
  - 需要从@nestjs/swagger中引入，@nestjs/mapped-types中引入，其他的装饰器会失效

- IntersectionType

  - 用于合并多个不同的类

    ```typescript
    export class newDto extends IntersectionType(
      xxxDto,
      xxDto,
    ) {}
    ```

  - 结合PartialType

    ```typescript
    export class newDto extends PartialType(
    	IntersectionType( xxxDto, xxDto)
    ){}
    ```

- OmitType、PickType

  - OmitType可以指定排除继承的字段

    ```typescript
    export class UserDto extends OmitType(CreateUserDto, ['password']) {}
    ```

  - PickType可以指定保留继承的字段

    ```typescript
    export class UserNameDto extends PickType(CreateUserDto, ['name']) {}
    ```

    